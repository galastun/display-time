var dt=angular.module("display-time",[]);dt.directive("displayTime",function(){function DisplayTime($scope,$timeout){function getTime(){dateString="",settings.date&&(dateString+=getDateString()),settings.time&&(dateString+=" "+getTimeString()),vm.time=dateString,$timeout(getTime,delay)}function getTimeString(){var currentTime=new _Date,hours=formatHour(currentTime.getHours()),minutes=addZero(currentTime.getMinutes()),seconds=addZero(currentTime.getSeconds()),period=getPeriod(currentTime.getHours());return hours+":"+minutes+":"+seconds+period}function getDateString(){var currentDate=new _Date;return _DateString(currentDate)}function _DateString(date){return settings.military?militaryDate(date):normalDate(date)}function militaryDate(date){var month=date.getMonth(),day=date.getDate(),year=date.getFullYear();return day+" "+months[month]+" "+year}function normalDate(date){var month=date.getMonth()+1,day=date.getDate(),year=date.getFullYear();return month+"/"+day+"/"+year}function _Date(){return"UTC"===settings.timezone?new utcDate:new Date}function utcDate(){function getMonth(){return d.getUTCMonth()}function getDate(){return d.getUTCDate()}function getFullYear(){return d.getUTCFullYear()}function getHours(){return d.getUTCHours()}function getMinutes(){return d.getUTCMinutes()}function getSeconds(){return d.getUTCSeconds()}var d=new Date;return{getMonth:getMonth,getDate:getDate,getFullYear:getFullYear,getHours:getHours,getMinutes:getMinutes,getSeconds:getSeconds}}function addZero(time){return time<10&&(time="0"+time),time}function formatHour(time){return settings.military?time:time>12?time-12:time}function getPeriod(time){return settings.military?"":time>11?" PM":" AM"}var vm=this,delay=500,dateString="",months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],settings={military:!!angular.isDefined($scope.military)&&toBool($scope.military),time:!0,date:!angular.isDefined($scope.date)||toBool($scope),timezone:angular.isDefined($scope.timezone)?$scope.timezone:"local"};getTime()}function toBool(value){return/true/i.test(value)}return{scope:{military:"@?",date:"@?",timezone:"@?"},restrict:"E",template:"<span>{{ display.time }}</span>",controller:DisplayTime,controllerAs:"display"}});